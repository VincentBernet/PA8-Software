<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Home Page</title>

		<meta
			http-equiv="Content-Security-Policy"
			content="script-src 'self' 'unsafe-inline';"
		/>
		<link rel="stylesheet" href="../css/index.css" />
		<link rel="stylesheet" href="../css/header.css" />

		
		

		<!-- The defer attribute tells the browser not to wait for the script. Instead, the browser will continue to process the HTML, build DOM. 
			The script loads “in the background”, and then runs when the DOM is fully built.-->
		<script defer src="../js/index.js"></script>
        <script src="../node_modules/chart.js/dist/Chart.js"></script>
		<script type="text/javascript" src="../js/Graph.js"></script>

	</head>

	<body>
		<!-- Identifiant : sebastien.friedberg@gmail.com Mdp : Azerty123 or vincent.bernet@efrei.net Azerty123 -->
		<header>
			<!--<img  class="logo" src="../ressource/image/logo.png"/> -->
			<ul class="nav_links">
				<li><a href="index.html" class="btn">Accueil</a></li>
				<li><a href="analyse.html" id="NOTIFICATION">Analyse</a></li>
				<li><a href="parametre.html">Paramètre</a></li>
				<li><a href="#" id="DECO">Déconnexion</a></li>
				<li><a href=# id="update">Update</a></li>
			</ul>
		</header>
		<br><br><br>

		<!-- Container flex comprenant et les boutons pour changer d'analyse et la rubrique-->
		<div class="Option_Graphe_Container">
			<div class = "bouton_gauche">
				<form method="POST">
					<br><br><br>
						<a href="index.html">
							<img id="logotext"  src="../ressource/image/Logo_bleu.png"/>
						</a>

					<br><br><br><br>
					<div id="counter" >0000000</div>
						<!-- Script to count how many people are tracked in Csv file-->
						<script src="../js/counter.js" > </script> <!-- Attention pour éviter l'erreur innerHTML of null il faut mettre ce script après l'id counter et avant le onload juste en dessus -->
					<br><br><br>
					<a id="Analy-1" class="button" href="#">Affluence<img id="arrow-hover" src="https://github.com/atloomer/atloomer.github.io/blob/master/img/iconmonstr-paper-plane-1-120.png?raw=true"/></a>
					<br><br>
					<a id="Analy-2" class="button" href="#">Heat Map<img id="arrow-hover" src="https://github.com/atloomer/atloomer.github.io/blob/master/img/iconmonstr-paper-plane-1-120.png?raw=true"/></a>
					<br><br>
					<a id="Analy-3" class="button" href="#">Heat Map V2<img id="arrow-hover" src="https://github.com/atloomer/atloomer.github.io/blob/master/img/iconmonstr-paper-plane-1-120.png?raw=true"/></a>
					<br><br>
					<a id="Analy-4" class="button" href="#">Shopping<img id="arrow-hover" src="https://github.com/atloomer/atloomer.github.io/blob/master/img/iconmonstr-paper-plane-1-120.png?raw=true"/></a>
					<br><br>
					<a id="Analy-5" class="button" href="#">Diagramme<img id="arrow-hover" src="https://github.com/atloomer/atloomer.github.io/blob/master/img/iconmonstr-paper-plane-1-120.png?raw=true"/></a>
					<br><br>
					<a id="Analy-6" class="button" href="#">Cercle<img id="arrow-hover" src="https://github.com/atloomer/atloomer.github.io/blob/master/img/iconmonstr-paper-plane-1-120.png?raw=true"/></a>
				
				</form>
			</div>
			<!-- Container avec le graphe choisi (en format png) -->
			<span id="Container_graphe">
				<canvas id="Vente_Graph"></canvas>
			</span>
			
		</div>
		<!-- Script pour modifier la source de l'image selon le bouton / graph sélectioné -->
		<script >
			const Graphique = document.getElementById('Vente_Graph');

			const AffluenceBtn = document.getElementById('Analy-1')
			AffluenceBtn.addEventListener('click', (event) => {
				//document.getElementById("Container_graphe").innerHTML='<iframe src="https://snapshot.raintank.io/dashboard-solo/snapshot/y7zwi2bZ7FcoTlB93WN7yWO4aMiz3pZb?from=1493369923321&to=1493377123321&panelId=4" width="1250" height="650" frameborder="0"></iframe>';
				Graphique.id = "Vente_Graph";
				ConnectToDatabase();
			})

			const HeatMapBtn = document.getElementById('Analy-2')
			HeatMapBtn.addEventListener('click', (event) => {
    			//document.getElementById("Container_graphe").innerHTML='<img  src="../code_python/Affluence/Affluence.png"  id="Graphe" />';
				Graphique.id = "graph2";
				MakeBar();
			})

			const Analy3Btn = document.getElementById('Analy-3')
			Analy3Btn.addEventListener('click', (event) => {
				document.getElementById("Container_graphe").innerHTML='<img  src="../code_python/Density_Map/HeatMap.png"  id="Graphe" />';
			})

			const Analy4Btn = document.getElementById('Analy-4')
			Analy4Btn.addEventListener('click', (event) => {
				document.getElementById("Container_graphe").innerHTML='<img  src="../code_python/Dwell_Time/TrackeurDuree.png"  id="Graphe" />';
			})

			const Analy5Btn = document.getElementById('Analy-5')
			Analy5Btn.addEventListener('click', (event) => {
    			//document.getElementById("Container_graphe").innerHTML='<img  src="../code_python/Affluence/Affluence.png"  id="Graphe" />';
				Graphique.id = "graph4";
				MakeAraignee();
			})

			const Analy6Btn = document.getElementById('Analy-6')
			Analy6Btn.addEventListener('click', (event) => {
    			//document.getElementById("Container_graphe").innerHTML='<img  src="../code_python/Affluence/Affluence.png"  id="Graphe" />';
				Graphique.id = "graph3";
				MakeCercle();
			})

			const Analy7Btn = document.getElementById('update')
			Analy6Btn.addEventListener('click', (event) => {
				updateGraph();
			})
		</script>
	</body>
</html>


<script>
	ConnectToDatabase();
	//MakeGraphGreatAgain();
	//MakeBar();
</script>